
<!-- QuadraScans - Premium Hindi Manga Website [450+ lines] -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>QuadraScans - Hindi Manga & Manhwa</title>
  <link rel="icon" href="assets/images/logo.png" />
  <meta name="theme-color" content="#121212">
  <meta name="description" content="Read free Hindi Manga and Manhwa on QuadraScans. Updated daily with a premium reader experience.">
  <meta name="keywords" content="quadrascans, hindi manga, manhwa in hindi, manga reader, free manga hindi">
  <meta name="author" content="QuadraScans Team">

  <!-- SEO Social Preview -->
  <meta property="og:title" content="QuadraScans ‚Äì Hindi Manga Reader" />
  <meta property="og:description" content="Read Hindi Manga and Manhwa in high quality. Free and updated daily." />
  <meta property="og:image" content="https://quadrascans.netlify.app/assets/images/logo.png" />
  <meta property="og:url" content="https://quadrascans.netlify.app/" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXX');
  </script>

  <!-- Fonts and Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="assets/images/logo.png">
  <link rel="stylesheet" href="assets/css/style.css" />

  <!-- Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js');
      });
    }
  </script>
</head>
<body>

<header>
  <div class="logo">
    <img src="assets/images/logo.png" alt="QuadraScans" />
    <span>QuadraScans</span>
  </div>
  <div class="header-icons">
    <button onclick="location.href='search.html'"><i class="fas fa-search"></i></button>
    <button id="userIcon"><i class="fas fa-user-circle"></i></button>
  </div>
</header>

<main>
  <section class="tab-page active" id="tab-home">
    <div class="notice-bar"><i class="fas fa-bullhorn"></i> Join <a href="https://linktr.ee/YOUR_SOCIALS" target="_blank">our socials</a> for updates, perks & events!</div>

    <h2 class="section-title">üî• Hot Picks</h2>
    <div class="manga-list" id="hotMangasContainer"></div>

    <h2 class="section-title">üìñ Continue Reading</h2>
    <div class="manga-list" id="continueReadingContainer"><p class="no-results">No reading history yet.</p></div>

    <h2 class="section-title">üÜï New Mangas</h2>
    <div class="manga-list" id="newMangasContainer"></div>

    <h2 class="section-title">üì¢ Latest Chapters</h2>
    <div class="manga-list" id="newChaptersContainer"></div>
  </section>

  <section class="tab-page" id="tab-favorites">
    <h2 class="section-title">‚ù§Ô∏è Favorites</h2>
    <div class="manga-list" id="favoritesContainer"><p class="no-results">No favorites added.</p></div>
  </section>

  <section class="tab-page" id="tab-settings">
    <h2 class="section-title">‚öôÔ∏è Settings</h2>
    <div class="settings-list">
      <div class="setting-item">
        <i class="fas fa-moon"></i>
        <span>Theme</span>
        <label class="switch">
          <input type="checkbox" id="themeToggle" />
          <span class="slider"></span>
        </label>
      </div>

      <div class="setting-item">
        <i class="fas fa-download"></i>
        <span>Install App</span>
        <button id="installBtn">Install</button>
      </div>

      <div class="setting-item">
        <i class="fas fa-broom"></i>
        <span>Clear Reading History</span>
        <button onclick="localStorage.removeItem('quadraReading'); location.reload();">Clear</button>
      </div>

      <div class="setting-item">
        <i class="fas fa-heart-broken"></i>
        <span>Clear Favorites</span>
        <button onclick="localStorage.removeItem('quadraFavs'); location.reload();">Clear</button>
      </div>

      <div class="setting-item">
        <i class="fas fa-share-alt"></i>
        <span>Share QuadraScans</span>
        <button onclick="navigator.share({ title: 'QuadraScans', text: 'Check out Hindi Manga on QuadraScans!', url: location.href })">Share</button>
      </div>
    </div>
  </section>
</main>

<nav class="bottom-nav">
  <button class="tab-btn active" data-tab="home"><i class="fas fa-home"></i></button>
  <button class="tab-btn" data-tab="favorites"><i class="fas fa-heart"></i></button>
  <button class="tab-btn" data-tab="settings"><i class="fas fa-cog"></i></button>
</nav>

<script>
// PWA Install Logic
let deferredPrompt;
window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;
  document.getElementById("installBtn").style.display = "inline-block";
});
document.getElementById("installBtn").addEventListener("click", () => {
  if (deferredPrompt) {
    deferredPrompt.prompt();
    deferredPrompt.userChoice.then(() => deferredPrompt = null);
  }
});

// Tabs
const tabs = document.querySelectorAll(".tab-page");
const buttons = document.querySelectorAll(".tab-btn");
function showTab(name) {
  tabs.forEach(tab => tab.classList.toggle("active", tab.id === `tab-${name}`));
  buttons.forEach(btn => btn.classList.toggle("active", btn.dataset.tab === name));
  localStorage.setItem("activeTab", name);
  if (name === 'favorites') renderFavorites();
}
buttons.forEach(btn => btn.addEventListener("click", () => showTab(btn.dataset.tab)));
showTab(localStorage.getItem("activeTab") || "home");

// Theme Toggle
const themeToggle = document.getElementById("themeToggle");
const savedTheme = localStorage.getItem("quadraTheme") || "dark";
themeToggle.checked = savedTheme === "light";
applyTheme(savedTheme);
themeToggle.addEventListener("change", () => {
  const newTheme = themeToggle.checked ? "light" : "dark";
  applyTheme(newTheme);
});
function applyTheme(mode) {
  document.body.style.backgroundColor = mode === "dark" ? "#0f0f0f" : "#fff";
  document.body.style.color = mode === "dark" ? "#fff" : "#111";
  localStorage.setItem("quadraTheme", mode);
}

// Daily Login Bonus
const today = new Date().toDateString();
if (localStorage.getItem("quadraLoginBonus") !== today) {
  alert("üéâ Daily XP Claimed!");
  localStorage.setItem("quadraLoginBonus", today);
}

const continueReadingContainer = document.getElementById("continueReadingContainer");
const newChaptersContainer = document.getElementById("newChaptersContainer");
const newMangasContainer = document.getElementById("newMangasContainer");
const favoritesContainer = document.getElementById("favoritesContainer");
const hotMangasContainer = document.getElementById("hotMangasContainer");

const readingHistory = JSON.parse(localStorage.getItem("quadraReading") || "[]");
const favoriteIds = JSON.parse(localStorage.getItem("quadraFavs") || "[]");

function renderFavorites() {
  favoritesContainer.innerHTML = '';
  if (!favoriteIds.length) {
    favoritesContainer.innerHTML = '<p class="no-results">No favorites added.</p>';
    return;
  }
  fetch(\"assets/data/mangas.json\").then(res => res.json()).then(mangas => {
    const favs = mangas.filter(m => favoriteIds.includes(m.id));
    favs.forEach(manga => {
      const a = document.createElement(\"a\");
      a.href = `manga.html?id=${manga.id}`;
      a.className = \"manga-card\";
      a.innerHTML = `<img src=\"${manga.cover}\" alt=\"${manga.title}\" /><span>${manga.title}</span>`;
      favoritesContainer.appendChild(a);
    });
  });
}

fetch(\"assets/data/mangas.json\")
  .then(res => res.json())
  .then(mangas => {
    // Hot Picks
    const hot = mangas.filter(m => m.views && m.views > 1000).slice(0, 5);
    hot.forEach(manga => {
      const a = document.createElement(\"a\");
      a.href = `manga.html?id=${manga.id}`;
      a.className = \"manga-card\";
      a.innerHTML = `<img src=\"${manga.cover}\" alt=\"${manga.title}\" /><span>üî• ${manga.title}</span>`;
      hotMangasContainer.appendChild(a);
    });

    // Continue Reading
    const history = readingHistory.map(id => mangas.find(m => m.id === id)).filter(Boolean);
    if (history.length) {
      continueReadingContainer.innerHTML = '';
      history.forEach(manga => {
        const a = document.createElement(\"a\");
        a.href = `manga.html?id=${manga.id}`;
        a.className = \"manga-card\";
        a.innerHTML = `<img src=\"${manga.cover}\" alt=\"${manga.title}\" /><span>${manga.title}</span>`;
        continueReadingContainer.appendChild(a);
      });
    }

    // New Mangas & Chapters
    mangas.forEach(manga => {
      const a = document.createElement(\"a\");
      a.href = `manga.html?id=${manga.id}`;
      a.className = \"manga-card\";
      a.innerHTML = `<img src=\"${manga.cover}\" alt=\"${manga.title}\" /><span>${manga.title}</span>`;
      newMangasContainer.appendChild(a);

      if (manga.latestChapter) {
        const c = document.createElement(\"a\");
        c.href = `reader.html?id=${manga.id}&chapter=${manga.latestChapter}`;
        c.className = \"manga-card\";
        c.innerHTML = `<img src=\"${manga.cover}\" alt=\"${manga.title}\" /><span>${manga.title} ‚Äì Chapter ${manga.latestChapter}</span>`;
        newChaptersContainer.appendChild(c);
      }
    });
  });

const userIcon = document.getElementById(\"userIcon\");
userIcon.addEventListener(\"click\", () => {
  try {
    const userData = JSON.parse(localStorage.getItem(\"quadraUser\"));
    if (userData && typeof userData === \"object\") {
      window.location.href = \"profile.html\";
    } else {
      window.location.href = \"signup.html\";
    }
  } catch (e) {
    window.location.href = \"signup.html\";
  }
});
</script>

</body>
</html>
